<!DOCTYPE html>
<html lang='en'>
<head>
  <meta charset='UTF-8'>
  <meta http-equiv='X-UA-Compatible' content='IE=edge'>
  <meta name='viewport' content='width=device-width, initial-scale=1.0'>

  <title>Access Denied!</title>
</head>
<body>
<h1>Access Denied!</h1>

<form id='chat-form' action=''>
  <input type='text'>
  <button>Enviar</button>
</form>
<div id='mensajes'></div>

<script src='https://cdnjs.cloudflare.com/ajax/libs/socket.io/4.2.0/socket.io.js'
        integrity='sha512-WL6WGKMPBiM9PnHRYIn5YEtq0Z8XP4fkVb4qy7PP4vhmYQErJ/dySyXuFIMDf1eEYCXCrQrMJfkNwKc9gsjTjA=='
        crossorigin='anonymous' referrerpolicy='no-referrer'></script>
<script>
  const socket = io('http://localhost:3009')
  const user = 'Me'
  socket.emit('chat-message', { data: { text: 'Hola Sockets', user } })
  socket.on('new-chat-message', (data) => {
    console.log('new-chat-message:')

    const uname = data.data.user
    console.log('user: ', user, ' == uname:', uname)
    if (uname === user) {
      console.log('es un mensaje propio')
    }
  })
</script>
</body>
</html>
